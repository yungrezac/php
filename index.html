<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçé –Ø–±–ª–æ—á–Ω—ã–π –∫–ª–∏–∫–µ—Ä PRO</title>
    <style>
        :root {
            --primary-color: #e74c3c;
            --secondary-color: #2ecc71;
            --accent-color: #3498db;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --highlight-color: #f1c40f;
        }
        
        body {
            font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #f9f3e9 0%, #e8f4f8 100%);
            margin: 0;
            padding: 20px;
            color: var(--dark-color);
            min-height: 100vh;
        }
        
        #game-container {
            max-width: 650px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        #game-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color), var(--secondary-color));
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 2.5em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        #score-container {
            position: relative;
            margin: 25px auto;
        }
        
        #score {
            font-size: 32px;
            font-weight: bold;
            color: var(--secondary-color);
            background-color: rgba(46, 204, 113, 0.1);
            padding: 15px 25px;
            border-radius: 50px;
            display: inline-block;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
            border: 2px solid rgba(46, 204, 113, 0.3);
            transition: all 0.3s;
        }
        
        #score:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.2);
        }
        
        #apple-container {
            position: relative;
            margin: 30px auto;
            width: 180px;
            height: 180px;
            transition: all 0.3s;
        }
        
        #apple {
            width: 100%;
            height: 100%;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
            filter: drop-shadow(0 6px 12px rgba(0,0,0,0.15));
            transform-origin: center 70%;
        }
        
        #apple:hover {
            transform: scale(1.08) rotate(5deg);
        }
        
        #apple:active {
            transform: scale(0.95) rotate(-5deg);
            filter: drop-shadow(0 3px 6px rgba(0,0,0,0.1));
        }
        
        .click-effect {
            position: absolute;
            color: var(--highlight-color);
            font-size: 28px;
            font-weight: bold;
            animation: float-up 1s forwards;
            pointer-events: none;
            z-index: 10;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        #upgrades {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }
        
        .upgrade {
            padding: 15px;
            background: white;
            color: var(--dark-color);
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }
        
        .upgrade::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background-color: var(--accent-color);
        }
        
        .upgrade:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--accent-color);
        }
        
        .upgrade:active:not(:disabled) {
            transform: translateY(1px);
        }
        
        .upgrade:disabled {
            background: #f5f5f5;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .upgrade-info {
            display: flex;
            flex-direction: column;
        }
        
        .upgrade-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .upgrade-title {
            font-weight: bold;
            font-size: 1.1em;
            color: var(--dark-color);
        }
        
        .upgrade-level {
            font-size: 0.9em;
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--accent-color);
            padding: 3px 8px;
            border-radius: 10px;
        }
        
        .upgrade-desc {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
        }
        
        .upgrade-price {
            font-weight: bold;
            color: var(--secondary-color);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .upgrade-price::before {
            content: "üçé";
        }
        
        .progress-container {
            width: 100%;
            height: 6px;
            background-color: #eee;
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-color));
            width: 0%;
            transition: width 0.5s ease-out;
        }
        
        #stats {
            margin-top: 30px;
            font-size: 16px;
            background-color: rgba(236, 240, 241, 0.5);
            padding: 20px;
            border-radius: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            text-align: left;
        }
        
        .stat {
            display: flex;
            flex-direction: column;
        }
        
        .stat-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 3px;
        }
        
        .stat-value {
            font-weight: bold;
            font-size: 1.2em;
            color: var(--dark-color);
        }
        
        #notifications {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 100;
        }
        
        .notification {
            background-color: var(--dark-color);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: slide-in 0.3s, fade-out 0.5s 2.5s forwards;
            opacity: 0.95;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .notification::before {
            content: "‚ú®";
        }
        
        .notification.error {
            background-color: var(--primary-color);
        }
        
        .notification.error::before {
            content: "‚ö†Ô∏è";
        }
        
        .notification.success {
            background-color: var(--secondary-color);
        }
        
        .notification.success::before {
            content: "‚úÖ";
        }
        
        #save-buttons {
            margin-top: 25px;
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .save-btn {
            padding: 10px 20px;
            background-color: var(--dark-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }
        
        .save-btn:active {
            transform: translateY(0);
        }
        
        .save-btn.reset {
            background-color: var(--primary-color);
        }
        
        #achievements-container {
            margin-top: 30px;
            text-align: left;
        }
        
        #achievements-title {
            font-size: 1.2em;
            font-weight: bold;
            color: var(--dark-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        #achievements-title::before {
            content: "üèÜ";
        }
        
        #achievements {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
        }
        
        .achievement {
            background-color: white;
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            border-left: 4px solid var(--highlight-color);
            opacity: 0.5;
            transition: all 0.3s;
        }
        
        .achievement.unlocked {
            opacity: 1;
            border-left-color: var(--secondary-color);
            background-color: rgba(46, 204, 113, 0.05);
        }
        
        .achievement-name {
            font-weight: bold;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .achievement-name::before {
            content: "üîí";
        }
        
        .achievement.unlocked .achievement-name::before {
            content: "üèÖ";
        }
        
        .achievement-desc {
            font-size: 0.8em;
            color: #666;
        }
        
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        @keyframes slide-in {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes fade-out {
            from { opacity: 0.95; }
            to { opacity: 0; transform: translateY(-20px); }
        }
        
        @keyframes float-up {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-60px); opacity: 0; }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @media (max-width: 600px) {
            #game-container {
                padding: 20px;
            }
            
            #upgrades {
                grid-template-columns: 1fr;
            }
            
            #apple-container {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    <div id="notifications"></div>
    
    <div id="game-container">
        <h1><span>–Ø–±–ª–æ—á–Ω—ã–π –∫–ª–∏–∫–µ—Ä PRO</span></h1>
        
        <div id="score-container">
            <div id="score">–Ø–±–ª–æ–∫: 0</div>
        </div>
        
        <div id="apple-container">
            <img id="apple" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSIjZTQyOTJhIiBkPSJNMzUyIDI0MGMwLTIwLjkgMTAuOS00OS41IDI2LjUtNjQuOWwxLjgtMi4xQzM5OCAxNTEuMSA0MDggMTI1LjMgNDA4IDk2YzAtNTMuNC00My44LTk2LTk2LTk2cy05NiA0Mi42LTk2IDk2YzAgMjkuMyAxMCA1NS4xIDI3LjUgNzYuOWwxLjggMi4xQzI1MS4xIDE5MC41IDI2MCAyMTkuMSAyNjAgMjQwYzAgNjEuOC01MC4yIDExMi0xMTIgMTEySDQ4Yy04LjggMC0xNiA3LjItMTYgMTZzNy4yIDE2IDE2IDE2aDEwMGM4MS45IDAgMTU0LjUtNTEuMSAxODIuMS0xMjguOEMzNDkuOCAyNTkuNiAzNTIgMjQ5LjkgMzUyIDI0MHoiLz48L3N2Zz4=" alt="–Ø–±–ª–æ–∫–æ">
        </div>
        
        <div id="upgrades">
            <button class="upgrade" id="auto-clicker" onclick="buyAutoClicker()">
                <div class="upgrade-info">
                    <div class="upgrade-header">
                        <span class="upgrade-title">–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä</span>
                        <span class="upgrade-level" id="auto-clicker-level">–£—Ä. 0</span>
                    </div>
                    <span class="upgrade-desc">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç —è–±–ª–æ–∫–∏ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É</span>
                    <div class="progress-container">
                        <div class="progress-bar" id="auto-clicker-progress"></div>
                    </div>
                </div>
                <span class="upgrade-price" id="auto-clicker-price">10</span>
            </button>
            
            <button class="upgrade" id="double-click" onclick="buyDoubleClick()">
                <div class="upgrade-info">
                    <div class="upgrade-header">
                        <span class="upgrade-title">–£—Å–∏–ª–µ–Ω–Ω—ã–µ –∫–ª–∏–∫–∏</span>
                        <span class="upgrade-level" id="double-click-level">–£—Ä. 0</span>
                    </div>
                    <span class="upgrade-desc">–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–±–ª–æ–∫ –∑–∞ –∫–ª–∏–∫</span>
                    <div class="progress-container">
                        <div class="progress-bar" id="double-click-progress"></div>
                    </div>
                </div>
                <span class="upgrade-price" id="double-click-price">50</span>
            </button>
            
            <button class="upgrade" id="mega-click" onclick="buyMegaClick()">
                <div class="upgrade-info">
                    <div class="upgrade-header">
                        <span class="upgrade-title">–ú–µ–≥–∞ –∫–ª–∏–∫</span>
                        <span class="upgrade-level" id="mega-click-level">–£—Ä. 0</span>
                    </div>
                    <span class="upgrade-desc">–£–º–Ω–æ–∂–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∫–ª–∏–∫–æ–≤</span>
                    <div class="progress-container">
                        <div class="progress-bar" id="mega-click-progress"></div>
                    </div>
                </div>
                <span class="upgrade-price" id="mega-click-price">100</span>
            </button>
            
            <button class="upgrade" id="golden-apple" onclick="buyGoldenApple()">
                <div class="upgrade-info">
                    <div class="upgrade-header">
                        <span class="upgrade-title">–ó–æ–ª–æ—Ç–æ–µ —è–±–ª–æ–∫–æ</span>
                        <span class="upgrade-level" id="golden-apple-level">–£—Ä. 0</span>
                    </div>
                    <span class="upgrade-desc">–®–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –∑–æ–ª–æ—Ç–æ–µ —è–±–ª–æ–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ</span>
                    <div class="progress-container">
                        <div class="progress-bar" id="golden-apple-progress"></div>
                    </div>
                </div>
                <span class="upgrade-price" id="golden-apple-price">250</span>
            </button>
        </div>
        
        <div id="stats">
            <div class="stat">
                <span class="stat-label">–°–∫–æ—Ä–æ—Å—Ç—å —Å–±–æ—Ä–∞</span>
                <span class="stat-value" id="per-second">0/—Å–µ–∫</span>
            </div>
            <div class="stat">
                <span class="stat-label">–ö–ª–∏–∫–æ–≤ —Å–¥–µ–ª–∞–Ω–æ</span>
                <span class="stat-value" id="click-count">0</span>
            </div>
            <div class="stat">
                <span class="stat-label">–í—Å–µ–≥–æ —Å–æ–±—Ä–∞–Ω–æ</span>
                <span class="stat-value" id="total-apples">0</span>
            </div>
            <div class="stat">
                <span class="stat-label">–ò–≥—Ä–æ–≤–æ–µ –≤—Ä–µ–º—è</span>
                <span class="stat-value" id="play-time">0:00</span>
            </div>
        </div>
        
        <div id="achievements-container">
            <div id="achievements-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
            <div id="achievements">
                <div class="achievement" id="achievement-100-clicks">
                    <div class="achievement-name">100 –∫–ª–∏–∫–æ–≤</div>
                    <div class="achievement-desc">–°–¥–µ–ª–∞–π—Ç–µ 100 –∫–ª–∏–∫–æ–≤ –ø–æ —è–±–ª–æ–∫—É</div>
                </div>
                <div class="achievement" id="achievement-1000-apples">
                    <div class="achievement-name">1000 —è–±–ª–æ–∫</div>
                    <div class="achievement-desc">–°–æ–±–µ—Ä–∏—Ç–µ 1000 —è–±–ª–æ–∫</div>
                </div>
                <div class="achievement" id="achievement-first-upgrade">
                    <div class="achievement-name">–ü–µ—Ä–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ</div>
                    <div class="achievement-desc">–ö—É–ø–∏—Ç–µ –ª—é–±–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ</div>
                </div>
            </div>
        </div>
        
        <div id="save-buttons">
            <button class="save-btn" onclick="saveGame()"><span>üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="save-btn" onclick="loadGame()"><span>üìÇ</span> –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
            <button class="save-btn reset" onclick="resetGame()"><span>üîÑ</span> –°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let apples = 0;
        let totalApples = 0;
        let clickCount = 0;
        let playTime = 0;
        let autoClickers = 0;
        let doubleClickLevel = 0;
        let megaClickLevel = 0;
        let goldenAppleLevel = 0;
        let autoClickerCost = 10;
        let doubleClickCost = 50;
        let megaClickCost = 100;
        let goldenAppleCost = 250;
        
        // –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        const achievements = {
            '100-clicks': false,
            '1000-apples': false,
            'first-upgrade': false
        };
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const appleElement = document.getElementById('apple');
        const appleContainer = document.getElementById('apple-container');
        const scoreElement = document.getElementById('score');
        const notificationsContainer = document.getElementById('notifications');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        initGame();
        
        function initGame() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü
            particlesJS('particles-js', {
                "particles": {
                    "number": { "value": 30, "density": { "enable": true, "value_area": 800 } },
                    "color": { "value": "#e74c3c" },
                    "shape": { "type": "circle" },
                    "opacity": { "value": 0.5, "random": true },
                    "size": { "value": 3, "random": true },
                    "line_linked": { "enable": false },
                    "move": {
                        "enable": true,
                        "speed": 1,
                        "direction": "bottom",
                        "straight": false,
                        "out_mode": "out"
                    }
                },
                "interactivity": { "detect_on": "canvas", "events": { "onhover": { "enable": false } } }
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
            loadGame();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            updateScore();
            updateButtons();
            updateStats();
            updateAchievements();
            
            // –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä
            setInterval(autoClick, 1000);
            
            // –¢–∞–π–º–µ—Ä –∏–≥—Ä—ã
            setInterval(() => {
                playTime++;
                updateStats();
            }, 1000);
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ —è–±–ª–æ–∫—É
        appleElement.addEventListener('click', (e) => {
            let clickValue = 1;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –±–æ–Ω—É—Å—ã –æ—Ç —É–ª—É—á—à–µ–Ω–∏–π
            if (doubleClickLevel > 0) {
                clickValue += doubleClickLevel;
            }
            if (megaClickLevel > 0) {
                clickValue *= (megaClickLevel + 1);
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–æ–ª–æ—Ç–æ–µ —è–±–ª–æ–∫–æ
            if (goldenAppleLevel > 0 && Math.random() < goldenAppleLevel * 0.01) {
                const goldenValue = clickValue * 10;
                clickValue += goldenValue;
                createClickEffect(e, `‚ú® –ó–û–õ–û–¢–û–ï +${goldenValue}`, true);
            }
            
            apples += clickValue;
            totalApples += clickValue;
            clickCount++;
            
            // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –∫–ª–∏–∫–∞
            createClickEffect(e, `+${clickValue}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            checkAchievements();
            
            updateScore();
            updateStats();
        });
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –∫–ª–∏–∫–∞
        function createClickEffect(event, text, isGolden = false) {
            const effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.textContent = text;
            
            if (isGolden) {
                effect.style.color = '#f1c40f';
                effect.style.fontSize = '24px';
                effect.style.textShadow = '0 0 10px rgba(241, 196, 15, 0.8)';
            }
            
            // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —ç—Ñ—Ñ–µ–∫—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –º–µ—Å—Ç–∞ –∫–ª–∏–∫–∞
            const rect = appleContainer.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            effect.style.left = `${x}px`;
            effect.style.top = `${y}px`;
            
            appleContainer.appendChild(effect);
            
            // –£–¥–∞–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                effect.remove();
            }, 1000);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞
        function autoClick() {
            if (autoClickers > 0) {
                apples += autoClickers;
                totalApples += autoClickers;
                updateScore();
                updateStats();
                
                // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ä–∞–±–æ—Ç–µ –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞
                if (Math.random() < 0.1) {
                    showNotification(`–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä—ã —Å–æ–±—Ä–∞–ª–∏ ${autoClickers} —è–±–ª–æ–∫!`, 'success');
                }
            }
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ –ø–æ–∫—É–ø–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π
        function buyAutoClicker() {
            if (apples >= autoClickerCost) {
                apples -= autoClickerCost;
                autoClickers++;
                autoClickerCost = Math.floor(autoClickerCost * 1.5);
                
                showNotification(`–ö—É–ø–ª–µ–Ω –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä! –¢–µ–ø–µ—Ä—å –∏—Ö: ${autoClickers}`, 'success');
                updateScore();
                updateButtons();
                updateStats();
                checkAchievements();
            } else {
                showNotification(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —è–±–ª–æ–∫! –ù—É–∂–Ω–æ –µ—â—ë ${autoClickerCost - apples}`, 'error');
            }
        }
        
        function buyDoubleClick() {
            if (apples >= doubleClickCost) {
                apples -= doubleClickCost;
                doubleClickLevel++;
                doubleClickCost = Math.floor(doubleClickCost * 2);
                
                showNotification(`–£–ª—É—á—à–µ–Ω—ã –∫–ª–∏–∫–∏! –¢–µ–ø–µ—Ä—å +${doubleClickLevel + 1} –∑–∞ –∫–ª–∏–∫`, 'success');
                updateScore();
                updateButtons();
                updateStats();
                checkAchievements();
            } else {
                showNotification(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —è–±–ª–æ–∫! –ù—É–∂–Ω–æ –µ—â—ë ${doubleClickCost - apples}`, 'error');
            }
        }
        
        function buyMegaClick() {
            if (apples >= megaClickCost) {
                apples -= megaClickCost;
                megaClickLevel++;
                megaClickCost = Math.floor(megaClickCost * 2.5);
                
                showNotification(`–ú–µ–≥–∞ –∫–ª–∏–∫ —É–ª—É—á—à–µ–Ω! –£–º–Ω–æ–∂–µ–Ω–∏–µ √ó${megaClickLevel + 1}`, 'success');
                updateScore();
                updateButtons();
                updateStats();
                checkAchievements();
            } else {
                showNotification(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —è–±–ª–æ–∫! –ù—É–∂–Ω–æ –µ—â—ë ${megaClickCost - apples}`, 'error');
            }
        }
        
        function buyGoldenApple() {
            if (apples >= goldenAppleCost) {
                apples -= goldenAppleCost;
                goldenAppleLevel++;
                goldenAppleCost = Math.floor(goldenAppleCost * 3);
                
                showNotification(`–®–∞–Ω—Å –∑–æ–ª–æ—Ç–æ–≥–æ —è–±–ª–æ–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω –¥–æ ${goldenAppleLevel}%`, 'success');
                updateScore();
                updateButtons();
                updateStats();
                checkAchievements();
            } else {
                showNotification(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —è–±–ª–æ–∫! –ù—É–∂–Ω–æ –µ—â—ë ${goldenAppleCost - apples}`, 'error');
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—á–µ—Ç–∞
        function updateScore() {
            scoreElement.textContent = `–Ø–±–ª–æ–∫: ${formatNumber(apples)}`;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—á–µ—Ç–∞
            if (apples > 0) {
                scoreElement.style.animation = 'pulse 0.3s';
                setTimeout(() => {
                    scoreElement.style.animation = '';
                }, 300);
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π
        function updateButtons() {
            document.getElementById('auto-clicker-price').textContent = formatNumber(autoClickerCost);
            document.getElementById('double-click-price').textContent = formatNumber(doubleClickCost);
            document.getElementById('mega-click-price').textContent = formatNumber(megaClickCost);
            document.getElementById('golden-apple-price').textContent = formatNumber(goldenAppleCost);
            
            document.getElementById('auto-clicker-level').textContent = `–£—Ä. ${autoClickers}`;
            document.getElementById('double-click-level').textContent = `–£—Ä. ${doubleClickLevel}`;
            document.getElementById('mega-click-level').textContent = `–£—Ä. ${megaClickLevel}`;
            document.getElementById('golden-apple-level').textContent = `–£—Ä. ${goldenAppleLevel}`;
            
            document.getElementById('auto-clicker').disabled = apples < autoClickerCost;
            document.getElementById('double-click').disabled = apples < doubleClickCost;
            document.getElementById('mega-click').disabled = apples < megaClickCost;
            document.getElementById('golden-apple').disabled = apples < goldenAppleCost;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
            updateProgress('auto-clicker', autoClickerCost);
            updateProgress('double-click', doubleClickCost);
            updateProgress('mega-click', megaClickCost);
            updateProgress('golden-apple', goldenAppleCost);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
        function updateProgress(type, cost) {
            const progress = Math.min(100, (apples / cost) * 100);
            document.getElementById(`${type}-progress`).style.width = `${progress}%`;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            document.getElementById('per-second').textContent = `${formatNumber(autoClickers)}/—Å–µ–∫`;
            document.getElementById('click-count').textContent = formatNumber(clickCount);
            document.getElementById('total-apples').textContent = formatNumber(totalApples);
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–≥—Ä—ã
            const minutes = Math.floor(playTime / 60);
            const seconds = playTime % 60;
            document.getElementById('play-time').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function checkAchievements() {
            // 100 –∫–ª–∏–∫–æ–≤
            if (!achievements['100-clicks'] && clickCount >= 100) {
                achievements['100-clicks'] = true;
                document.getElementById('achievement-100-clicks').classList.add('unlocked');
                showNotification('–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ: 100 –∫–ª–∏–∫–æ–≤!', 'success');
                apples += 50; // –ù–∞–≥—Ä–∞–¥–∞
                updateScore();
            }
            
            // 1000 —è–±–ª–æ–∫
            if (!achievements['1000-apples'] && totalApples >= 1000) {
                achievements['1000-apples'] = true;
                document.getElementById('achievement-1000-apples').classList.add('unlocked');
                showNotification('–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ: 1000 —è–±–ª–æ–∫!', 'success');
                apples += 200; // –ù–∞–≥—Ä–∞–¥–∞
                updateScore();
            }
            
            // –ü–µ—Ä–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ
            if (!achievements['first-upgrade'] && (autoClickers > 0 || doubleClickLevel > 0 || megaClickLevel > 0 || goldenAppleLevel > 0)) {
                achievements['first-upgrade'] = true;
                document.getElementById('achievement-first-upgrade').classList.add('unlocked');
                showNotification('–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ: –ü–µ—Ä–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ!', 'success');
                apples += 100; // –ù–∞–≥—Ä–∞–¥–∞
                updateScore();
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function updateAchievements() {
            if (achievements['100-clicks']) {
                document.getElementById('achievement-100-clicks').classList.add('unlocked');
            }
            if (achievements['1000-apples']) {
                document.getElementById('achievement-1000-apples').classList.add('unlocked');
            }
            if (achievements['first-upgrade']) {
                document.getElementById('achievement-first-upgrade').classList.add('unlocked');
            }
        }
        
        // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            notificationsContainer.appendChild(notification);
            
            // –£–¥–∞–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã
        function saveGame() {
            const gameData = {
                apples,
                totalApples,
                clickCount,
                playTime,
                autoClickers,
                doubleClickLevel,
                megaClickLevel,
                goldenAppleLevel,
                autoClickerCost,
                doubleClickCost,
                megaClickCost,
                goldenAppleCost,
                achievements
            };
            
            localStorage.setItem('appleClickerProSave', JSON.stringify(gameData));
            showNotification('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!', 'success');
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
        function loadGame() {
            const savedData = localStorage.getItem('appleClickerProSave');
            if (savedData) {
                try {
                    const gameData = JSON.parse(savedData);
                    
                    apples = gameData.apples || 0;
                    totalApples = gameData.totalApples || 0;
                    clickCount = gameData.clickCount || 0;
                    playTime = gameData.playTime || 0;
                    autoClickers = gameData.autoClickers || 0;
                    doubleClickLevel = gameData.doubleClickLevel || 0;
                    megaClickLevel = gameData.megaClickLevel || 0;
                    goldenAppleLevel = gameData.goldenAppleLevel || 0;
                    autoClickerCost = gameData.autoClickerCost || 10;
                    doubleClickCost = gameData.doubleClickCost || 50;
                    megaClickCost = gameData.megaClickCost || 100;
                    goldenAppleCost = gameData.goldenAppleCost || 250;
                    
                    if (gameData.achievements) {
                        for (const key in gameData.achievements) {
                            achievements[key] = gameData.achievements[key];
                        }
                    }
                    
                    showNotification('–ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!', 'success');
                } catch (e) {
                    showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è', 'error');
                    console.error(e);
                }
            }
        }
        
        // –°–±—Ä–æ—Å –∏–≥—Ä—ã
        function resetGame() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É? –í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω.')) {
                apples = 0;
                totalApples = 0;
                clickCount = 0;
                playTime = 0;
                autoClickers = 0;
                doubleClickLevel = 0;
                megaClickLevel = 0;
                goldenAppleLevel = 0;
                autoClickerCost = 10;
                doubleClickCost = 50;
                megaClickCost = 100;
                goldenAppleCost = 250;
                
                // –°–±—Ä–æ—Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
                for (const key in achievements) {
                    achievements[key] = false;
                }
                
                localStorage.removeItem('appleClickerProSave');
                showNotification('–ò–≥—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞!', 'success');
                
                updateScore();
                updateButtons();
                updateStats();
                updateAchievements();
            }
        }
    </script>
</body>
</html>
